/* Enhanced Flow Particles CSS - Maximum visibility for directional dots */

/* Global particle visibility */
svg {
    overflow: visible !important;
}

/* Ensure all particle groups are visible */
g[class*="flow-particle-group"],
.flow-particle-group {
    z-index: 10000 !important;
    pointer-events: none;
    opacity: 1 !important;
}

/* Enhanced particle styling */
g[class*="flow-particle-group"] circle {
    filter: drop-shadow(0 0 10px currentColor) drop-shadow(0 0 20px currentColor) !important;
    opacity: 1 !important;
}

/* White core particles */
g[class*="flow-particle-group"] circle[fill="#ffffff"] {
    filter: drop-shadow(0 0 8px #fff) drop-shadow(0 0 16px #fff) !important;
    opacity: 1 !important;
    r: 6 !important;
}

/* Colored outer particles */
g[class*="flow-particle-group"] circle:not([fill="#ffffff"]) {
    opacity: 0.9 !important;
    r: 10 !important;
}

/* Connection paths during animation */
.connection-path {
    transition: all 0.3s ease;
}

.connection-path[data-connection-type="active-processing"] {
    stroke: #2ecc71 !important;
    stroke-width: 3 !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 10px #2ecc71) drop-shadow(0 0 20px #2ecc71) !important;
}

/* Input/Output connection animations */
.connection-path[data-connection-type="input-output"] {
    stroke: #ffd700 !important;
    stroke-width: 3 !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 10px #ffd700) drop-shadow(0 0 20px #ffd700) !important;
}

/* Ready connection animations */
.connection-path[data-connection-type="ready"] {
    stroke: #ff9800 !important;
    stroke-width: 3 !important;
    opacity: 1 !important;
    filter: drop-shadow(0 0 10px #ff9800) drop-shadow(0 0 20px #ff9800) !important;
}

/* Ensure particles are always on top */
#hex-flow-board > g[class*="flow-particle-group"],
#hex-flow-svg > g[class*="flow-particle-group"] {
    z-index: 99999 !important;
}

/* Particle motion paths should be visible */
animateMotion {
    visibility: visible !important;
}

/* Debug visibility - remove in production */
.flow-particle-debug {
    stroke: red !important;
    stroke-width: 2 !important;
    fill: none !important;
}

/* Connection active state */
.connection-active {
    stroke-width: 4 !important;
    opacity: 1 !important;
    animation: connection-active-glow 1s ease-in-out;
}

@keyframes connection-active-glow {
    0%, 100% {
        filter: drop-shadow(0 0 5px currentColor);
    }
    50% {
        filter: drop-shadow(0 0 15px currentColor) drop-shadow(0 0 25px currentColor);
    }
}

/* Ensure hex nodes don't block particles */
.hex-node {
    pointer-events: all;
}

.hex-node polygon {
    pointer-events: all;
}

/* Particles should ignore pointer events */
[id^="particle-group-"] {
    pointer-events: none !important;
}

/* Force particle visibility with important flags */
.flow-particle-visible {
    visibility: visible !important;
    opacity: 1 !important;
    display: block !important;
}